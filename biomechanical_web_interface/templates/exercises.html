{% extends "base.html" %}

{% block title %}Ejercicios - BioTrack{% endblock %}

{% block content %}
<div class="container-fluid fade-in">
    <!-- Hero Section -->
    <div class="dashboard-hero mb-4">
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="gradient-text">Ejercicios</span>
                <span class="hero-subtitle">Biomecánicos</span>
            </h1>
            <p class="hero-description">
                Selecciona el tipo de análisis que deseas realizar para evaluar el movimiento articular.
            </p>
        </div>
    </div>

    <!-- Información General (movida arriba para mejor visibilidad) -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="all-exercises-card">
                <div class="exercises-content">
                    <h3><i class="bi bi-info-circle"></i> Información General</h3>
                    <div class="row">
                        <div class="col-md-4">
                            <h5>Preparación</h5>
                            <ul>
                                <li>Asegúrate de tener buena iluminación</li>
                                <li>Usa ropa que contraste con el fondo</li>
                                <li>Mantén la cámara estable</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h5>Durante el Análisis</h5>
                            <ul>
                                <li>Realiza movimientos lentos y controlados</li>
                                <li>Mantente dentro del campo de visión</li>
                                <li>Sigue las instrucciones en pantalla</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h5>Recomendaciones</h5>
                            <ul>
                                <li>Calienta antes de comenzar</li>
                                <li>Detente si sientes dolor</li>
                                <li>Consulta con un profesional</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Grid de Ejercicios -->
    <div class="row g-4">
        {% for joint_type, config in joint_configs.items() %}
        <div class="col-lg-4 col-md-6">
            <div class="quick-access-card">
                <div class="card-icon {{ joint_type }}">
                    {% if config.icon.endswith('.svg') or config.icon.endswith('.png') %}
                        <img src="{{ url_for('static', filename='images/joints/' + config.icon) }}" alt="{{ config.name }}" class="joint-icon">
                    {% else %}
                        <i class="bi bi-{{ config.icon }}"></i>
                    {% endif %}
                </div>
                <div class="card-content">
                    <h4>{{ config.name }}</h4>
                    <p>{{ config.description }}</p>
                    <a href="{{ url_for('analysis', joint_type=joint_type) }}" class="quick-button">
                        <i class="bi bi-play-circle"></i>
                        Ir a Ejercicios
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Efectos de animación para las tarjetas
document.addEventListener('DOMContentLoaded', function() {
    // Efecto stagger en las tarjetas
    const cards = document.querySelectorAll('.exercise-card');
    cards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px)';
        
        setTimeout(() => {
            card.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 100);
    });
    
    // Efecto hover mejorado
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-8px) scale(1.02)';
            this.style.boxShadow = '0 25px 50px rgba(0, 212, 255, 0.3)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '';
        });
    });
});

// Función para mostrar info rápida
function showQuickInfo(joint) {
    const info = {
        neck: 'Cuello: Movimientos de flexión, extensión y rotación cervical',
        shoulder: 'Hombro: Flexión, extensión, abducción y rotación glenohumeral',
        elbow: 'Codo: Flexión, extensión y movimientos de pronación-supinación',
        hip: 'Cadera: Flexión, extensión, abducción y rotación de cadera',
        knee: 'Rodilla: Flexión y extensión de la articulación tibiofemoral',
        ankle: 'Tobillo: Dorsiflexión, plantiflexión e inversión-eversión'
    };
    
    alert(`ℹ️ ${info[joint] || 'Información no disponible'}`);
}
</script>
{% endblock %}